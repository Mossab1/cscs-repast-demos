#summary Boids ReLogo/groovy implementation by Rowan Copley
#sidebar TableOfContents

= 0. Before Beginning = 
Before we can do anything with Repast Simphony, we need to make sure that we have a proper installation of Repast Simphony 2.0. Instructions on downloading and installing Repast Simphony on various platforms can be found on the Repast website.

= 1. What is Boids? =
Boids is a relatively simple agent-based model which simulates the steering behavior of flocking birds. Applications range from studying Artificial Life to implementing the algorithm in a flock of robots. The advantage of Boids is the bottom-up approach to flocking, rather than the top-down approach: each individual Boid need only follow a few simple rules and flocks will emerge naturally.
The overall design of the Boids algorithm is based on [http://www.red3d.com/cwr/boids/ Craig Reynold's original Boids] algorithm consists of three rules:
  * Alignment: Each Boid steers itself to align its heading with that of its neighbors
  * Cohesion: Each Boid steers itself to the average position of its flockmates
  * Separation: Each Boid steers itself in order not to crowd its neighbors

These three rules can conflict with each other, as we will see, the way that we deal with those conflicts will influence the final behavior of the flocks of Boids.

Boids is a study of the kind of algorithm that starlings might follow in order to create these spectacular clouds of birds:
<wiki:video url="http://www.youtube.com/watch?v=eakKfY5aHmY"/>

= 2. Implementation =

Open Repast and switch to the ReLogo perspective. Next, create a new project and name it 'Boids.'

=== Alignment ===

The goal here is to average the heading of all Boids within a certain distance that we'll call it neighborhoodRadius. This average is the new heading of any given Boid at their next timestep.

*The Alignment demo can be found [http://cscs-repast-demos.googlecode.com/svn/rowan/Boids_relogo_avgheading/ here].*


=== Cohesion === 

In order for a group of birds to be labeled a flock, or a group of fish to be labeled a school, they need to have a certain proximity to each other. In order to fly close to their flockmates, each Boid takes all its neighboring Boids (again, defined as all the Boids which are closer than the distance defined by neighborhood radius) and determines the average direction of them from itself. (So if there were two Boids in the neighborhood set of a particular Boid, and they were North and West or 0 and 270 degrees respectively, then the average direction of the Boids would be Northwest or 315 degrees.) If the neighboring Boids are, on average, too far away from this particular Boid, then it shifts its course to face the average direction of its neighboring Boids. 

If this is the only rule that the Boids follow, then we end up with vaguely pentagram-shaped clusters of Boids in which each Boid is continually travelling a straight line through the cluster of Boids and then turning 180 degrees and doing the same thing again. This is a fairly static end to the computation, and not very complex or interesting in the long run. 

*The Cohesion demo can be found [http://cscs-repast-demos.googlecode.com/svn/rowan/Boids_relogo_cohesion/ here].*

=== Separation ===

Real flocks also have another key trait: the units comprising them are evenly spaced, and no one unit is crowded out. This can be accomplished very similarly to the Cohesion method above -- a set of the neighboring Boids is made. However, all Boids which are not too close (not within the desiredDistance) can be ignored. The other difference is that the Boid must turn away from, not towards, the other Boids -- but turning the complete opposite direction is too far. Thus, we can introduce a turnSpeed which determines how much the Boid is to turn away from the other Boids. 

_TODO: upload Separation demo_

=== Putting it all together ===

_TODO: upload Alpha minus weights_

=== Adding random weights ===

*The Alpha can be found [http://cscs-repast-demos.googlecode.com/svn/rowan/Boids_relogo_cohesion/ here].*

(0) http://www.red3d.com/cwr/boids/